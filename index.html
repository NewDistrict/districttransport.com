<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>

  <link rel="stylesheet" href="style.css">

  <meta name="viewport" content="width=device-width, initial-scale=1">


  <script type="text/javascript">
    !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.1";
      analytics.load("LZyvPqx5rJ3bDgU8BSAnbWpzzDCq9sAC");
      analytics.page()
    }}();
  </script>
</head>
<body class="background">

<div ng-app='ndTransport' class="outer">

  <div ng-controller="signup" class="main" ng-cloak>
    <img src="district-transport.png" alt="District Transport" width="150em">
    <h4>the future of wine transport</h4>


    <div ng-if="signupVisible">

      <!--
      <form name="signup"
            ng-submit="sendToMailchimp(person,signup)" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate >

        <header class='form-header'>
          <label class='title-label' for="signup">
            Sign up form
          </label>
        </header>
      <br/>


          <div class='main-form-fields'>

            <div >
              <label for="signup-name">Name:</label>
              <input name="name" class="" value="" id="signup-name" ng-model="person.name"
                     placeholder='first and last name'>
            </div>

            <div class="signup-field-group email">
              <label for="signup-EMAIL">Email:</label>
              <input type="email" value="" name="EMAIL" class="required email" id="EMAIL" ng-model="person.email"
                     placeholder='Email'>
            </div>
            {{signup.EMAIL}}<br/>
            {{person}}


            <div >
              <label for="winery-name">Winery Name:</label>
              <input name="WINERY" class="" value="" id="winery-name" ng-model="person.winery"
                     placeholder='winery name'>
            </div>

            <div class="signup-field-group submit">
              <input type="submit" value="Subscribe" class="button" ng-click="accept(person, signup)" ng-if="!subscribed">
            </div>

          </div>

          <div class='confirmation-container'>

            <div class="clear">
              <div ng-if="subscribed"> thanks for subscribing.</div>
              <div class="error-message">{{message}}</div>
            </div>
          </div>


      </form>
      -->


      <form name="MailchimpSubscriptionForm" ng-controller="MailchimpSubscriptionCtrl">
        <div class='main-form-fields'>
        <div ng-hide="mailchimp.result === 'success'">
          <input class="hidden" type="hidden" ng-model="mailchimp.username" ng-init="mailchimp.username='newdistrict'">
          <input class="hidden" type="hidden" ng-model="mailchimp.dc" ng-init="mailchimp.dc='us3'">
          <input class="hidden" type="hidden" ng-model="mailchimp.u" ng-init="mailchimp.u='a435cca37d981c2f49a8a7d20'">
          <input class="hidden" type="hidden" ng-model="mailchimp.id" ng-init="mailchimp.id='75368f8a48'">

          <label for="name">Name:</label>
          <input type="text" name="name" ng-model="mailchimp.NAME" placeholder="" required>
          <label for="email">Email:</label>
          <input type="email" name="email" ng-model="mailchimp.EMAIL" placeholder="" required>
          <label for="winery">Winery Name:</label>
          <input type="text" name="winery" ng-model="mailchimp.WINERY" placeholder="" required>
          <center>
          <button ng-click="MailchimpSubscriptionForm.$invalid? message = '' : addSubscription(mailchimp)">Sign up</button>
          </center>
        </div>

        <div ng-show="mailchimp.result === 'error'" ng-cloak>
          <span ng-bind-html="mailchimp.errorMessage"></span>
        </div>

        <div ng-show="mailchimp.result === 'success'" ng-cloak>
          <span ng-bind-html="mailchimp.successMessage"></span>
        </div>
          <div class="error-message">{{message}}</div>
          </div>
      </form>

    </div>
    <button class="signup-button" ng-click="signupVisible=true" ng-hide="signupVisible">signup for the newsletter</button>



  </div>

</div>



<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-resource.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-sanitize.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-messages.js">
</script>

<script src="angular-mailchimp.js"></script>

<script type="text/javascript" >

  var NDT = angular.module('ndTransport',['mailchimp']);


</script>

<script src="signup.js"></script>
</body>
</html>